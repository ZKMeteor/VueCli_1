(function(){"use strict";var t={8311:function(t,o,e){var n=e(6369),i=function(){var t=this,o=t._self._c;return o("div",{attrs:{id:"app"}},[o("Myheader",{on:{addtodo:t.addtodo}}),o("Mylist",{attrs:{todos:t.todos}}),o("Myfooter",{attrs:{todos:t.todos,checkalltodo:t.checkalltodo},on:{delalltodo:t.delalltodo}})],1)},s=[],r=(e(541),function(){var t=this,o=t._self._c;return o("div",{staticClass:"header"},[o("input",{attrs:{type:"text",placeholder:"輸入內容"},on:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.add.apply(null,arguments)}}})])}),d=[],a=e(691),l={name:"Myheader",methods:{add(t){if(!t.target.value)return;const o={id:(0,a.x0)(),title:t.target.value,done:!1};this.$emit("addtodo",o),t.target.value=""}}},u=l,c=e(1001),h=(0,c.Z)(u,r,d,!1,null,"4718b3d0",null),f=h.exports,p=function(){var t=this,o=t._self._c;return o("div",{staticClass:"list"},[o("ul",[o("transition-group",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__backInRight","leave-active-class":"animate__backOutDown",appear:""}},t._l(t.todos,(function(t){return o("Myitem",{key:t.id,attrs:{todo:t}})})),1)],1)])},v=[],m=function(){var t=this,o=t._self._c;return o("div",{staticClass:"item"},[o("li",[o("label",[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.todo.done},on:{change:function(o){return t.changecheck(t.todo.id)}}}),o("span",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isedit,expression:"!todo.isedit"}]},[t._v(t._s(t.todo.title))]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"},{name:"show",rawName:"v-show",value:t.todo.isedit,expression:"todo.isedit"}],ref:"inputtitle",attrs:{type:"text"},domProps:{value:t.todo.title},on:{blur:function(o){return t.blur(t.todo,o)},input:function(o){o.target.composing||t.$set(t.todo,"title",o.target.value)}}})]),o("button",{staticClass:"btn",on:{click:function(o){return t.del(t.todo.id)}}},[t._v("刪除")]),o("button",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isedit,expression:"!todo.isedit"}],staticClass:"btn data",on:{click:function(o){return t.updatetodo(t.todo)}}},[t._v("編輯")])])])},b=[],k={name:"Myitem",props:["todo"],methods:{changecheck(t){this.$bus.$emit("checktodo",t)},del(t){confirm("確定刪除嗎?")&&this.$bus.$emit("deltodo",t)},updatetodo(t){t.hasOwnProperty("isedit")?t.isedit=!0:this.$set(t,"isedit",!0),this.$nextTick((function(){this.$refs.inputtitle.focus()}))},blur(t,o){if(t.isedit=!1,!o.target.value.trim())return alert("請輸入內容");this.$bus.$emit("updatetodo",t.id,o.target.value)}}},y=k,_=(0,c.Z)(y,m,b,!1,null,"cf82ce8c",null),g=_.exports,w={name:"Mylist",components:{Myitem:g},props:["todos"]},$=w,x=(0,c.Z)($,p,v,!1,null,"59a197f8",null),O=x.exports,M=function(){var t=this,o=t._self._c;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.todolen,expression:"todolen"}],staticClass:"footer"},[o("hr"),o("label",[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.isall},on:{change:t.checkall}})]),o("span",[o("span",[t._v("已完成"+t._s(t.tododone))]),t._v(" / 全部"+t._s(t.todolen)+" ")]),o("button",{staticClass:"btn",on:{click:t.delall}},[t._v("清除已勾選")])])},C=[],P={name:"Myheader",props:["todos","checkalltodo"],methods:{checkall(t){this.checkalltodo(t.target.checked)},delall(){this.$emit("delalltodo")}},computed:{todolen(){return this.todos.length},tododone(){return this.todos.reduce(((t,o)=>t+(o.done?1:0)),0)},isall:{get(){return this.todolen===this.tododone&&this.todolen>0},set(t){this.checkalltodo(t)}}}},Z=P,N=(0,c.Z)(Z,M,C,!1,null,"335bb881",null),j=N.exports,E={name:"App",components:{Myheader:f,Mylist:O,Myfooter:j},data(){return{todos:JSON.parse(localStorage.getItem("todos"))||[]}},methods:{addtodo(t){this.todos.unshift(t)},checktodo(t){this.todos.forEach((o=>{o.id===t&&(o.done=!o.done)}))},updatetodo(t,o){this.todos.forEach((e=>{e.id===t&&(e.title=o)}))},deltodo(t){this.todos=this.todos.filter((o=>o.id!==t))},checkalltodo(t){this.todos.forEach((o=>{o.done=t}))},delalltodo(t){this.todos=this.todos.filter((t=>!t.done))}},watch:{todos:{deep:!0,handler(t){localStorage.setItem("todos",JSON.stringify(t))}}},mounted(){this.$bus.$on("checktodo",this.checktodo),this.$bus.$on("deltodo",this.deltodo),this.$bus.$on("updatetodo",this.updatetodo)},beforeDestroy(){this.$bus.off("checktodo"),this.$bus.off("deltodo"),this.$bus.off("updatetodo")}},S=E,T=(0,c.Z)(S,i,s,!1,null,null,null),I=T.exports;n.ZP.config.productionTip=!1,new n.ZP({el:"#app",render:t=>t(I),beforeCreate(){n.ZP.prototype.$bus=this}})}},o={};function e(n){var i=o[n];if(void 0!==i)return i.exports;var s=o[n]={exports:{}};return t[n](s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(o,n,i,s){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],i=t[u][1],s=t[u][2];for(var d=!0,a=0;a<n.length;a++)(!1&s||r>=s)&&Object.keys(e.O).every((function(t){return e.O[t](n[a])}))?n.splice(a--,1):(d=!1,s<r&&(r=s));if(d){t.splice(u--,1);var l=i();void 0!==l&&(o=l)}}return o}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,i,s]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,n){var i,s,r=n[0],d=n[1],a=n[2],l=0;if(r.some((function(o){return 0!==t[o]}))){for(i in d)e.o(d,i)&&(e.m[i]=d[i]);if(a)var u=a(e)}for(o&&o(n);l<r.length;l++)s=r[l],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(u)},n=self["webpackChunkvue_cli"]=self["webpackChunkvue_cli"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(8311)}));n=e.O(n)})();
//# sourceMappingURL=app.87e390ac.js.map